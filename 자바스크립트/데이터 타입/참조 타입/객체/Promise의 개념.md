# 목차

- 동기와 비동기
- Promise

## 동기와 비동기

우선 프로미스를 알기 전 기본 상식인 동기와 비동기를 아셔야 합니다.

자바스크립트 자체가 동기적인 언어인데 여기서 동기란 한 작업이 실행되고 있는 동안 다른작업은 실행 될 수 없는 것을 뜻하며

실행 컨텍스트의 콜스택에 쌓인 함수들이 순차적으로 실행되는 것을 생각하시면 편합니다.

우리는 이걸 싱글 스레드 즉 동기 라고 부릅니다. 

동기에 대해 어느정도 개념을 이해 하셨다면 비동기라는 글자만 봐도 어떤 개념일지 느낌이 대강 오실 겁니다.

요청을 보냈을 때 응답이 올때까지 기다리는 것이 아니라 바로 다음 요청을 하신 것이 비동기 입니다.

간단하게 예시를 들어 들이면, 우리가 이용하는 홈 페이지 들이 만약 동기적으로 하나 하나 로딩 하면서 화면을 보여주게 된다면

이용자들의 대부분이 불편함을 호소하거나 아예 홈 페이지 자체를 사용하지 않으려 할 껍니다.

실제로 구글 리서치 정보에 따르면 홈페이지가 3초이상 안에 열리지 않을 경우 53%의 이용자가 떠난다는 통계가 있을 정도니 말이죠

~~한국인들의 빨리빨리 가 이 부분에선 좀 더 두각을 들어내기도 합니다~~

뭐 당연히 누구나 빠른 로딩을 원하고 자신의 시간을 할애하고 싶지 않기 때문에 비동기 적인 홈 페이지를 선호하는건 사람으로써 당연한 행동 입니다.

이 정도라면 이제 동기와 비동기를 충분히 이해 하셨을 거라 생각합니다.

대표적인 비동기 ex) setTimeout( )


## Promise

Promise 는 하나의 객체이며 비동기 작업이 끝난 후 그 결과값을 나타내 줍니다. 

기본적으로 두가지의 결과 값을 받아들이는데 이해 하기 쉽게 true 와 false 로 구분 하겠습니다.

true 로 반환된경우 resolve 에서 값을 매개변수로 받아들이며 값이 false 일 경우 reject 에서 값을 받아들이며 오류를 반환하게 됩니다.

그리고 Promise 엔 then 과 catch 가 있습니다. Promise가 객체이기 때문에 then 과 catch 를 사용할 땐 점 표기법을 사용합니다.

then 과 catch를 쓰는 이유는 비동기를 위해 사용하신다고 생각하면 됩니다.

Promise가 작동하는 방식은 함수에 콜백을 전달하는 대신 콜백을 첨부하는 방식인데, 이를 코드로 좀더 풀어서 설명해 드리면

```js
const devops = () => new Promise((res, rej) => {
    let a = parseInt(Math.random()*45)
    if (a > 23) {
        res("23 보다 더 높아")
    } else {
        rej("23 보다 더 낮아")
    }
})
console.log(devops())

devops()
.then((b) => {
    console.log(b)
})

.catch((b) => {
    console.log(b)
})
```
이렇게 작성이 될 수 있는데 이 코드를 하나하나 뜯어서 설명해 드리는데,

변수 선언 후 화살표 함수로 Promise 객체를 반환 합니다. 이후 안에서 다시 화살표 함수를 작성한 뒤 매개변수에 resolve를 뜻하는 res , 그리고 reject를 뜻하는 rej 를 선언합니다. 

이후 a 라는 변수에 최소 1부터 최대 45까지 나오는 랜덤 값을 주고 조건문을 실행해 a 가 23 보다 크면 res 아니면 rej를 실행하게 합니다.

이후 노드를 실행해 보면 터미널에 res 나 rej 둘중 하나가 적혀 있는 것을 확인 하실 수 있습니다.

이제 이걸 간단하게 꺼내 쓰기 위해 then 과 catch를 사용하게 됩니다.

then 에는 여러 값이 들어갈 수도 있지만 catch는 오류를 반환하기 때문에 마지막에 하나만 작성해 주시면됩니다.